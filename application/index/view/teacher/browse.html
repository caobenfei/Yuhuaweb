<!DOCTYPE html>
<!-- saved from url=(0045)http://www.hnhgjx.cn:1700/material/lib/browse -->
<html lang="zh_CN"><!--<![endif]--><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  
  <meta http-equiv="X-UA-Compatible" content="IE=edge,Chrome=1">
  <meta name="renderer" content="webkit">
  <meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no">
  <title>教学资料库 -       我的教学 - 豫化在线课堂 - 豫化在线课堂 - Powered By EduSoho
  </title>
 <!--  <meta name="keywords" content="
豫化在线网络课堂,在线教育,在线教学,开源教学软件">
  <meta name="description" content="豫化在线是面向个人、学校、培训机构及企业用户的友好、开源、高性价比的在线教育建站系统。Edusoho提供在线教学、网校管理、云视频点播、直播、移APP等功能，为使教育机构能够以最低成本开展在线教学活动，EduSoho也提供云服务器，云视频、云直播和移动APP定制服务，并配备相应的技术支持服务，让客户搭建自有品牌网校和搭积木一样简单。EduSoho产品及服务大大降低了传统教育培训机构进入在线教育行业的门槛。与其他在线教育产品相比，EduSoho具有完整，高自由度，高性价比的产品体验，使用其搭建在线教学网站是快速进入在线教育的最佳选择方案。EduSoho开源并免费提供给非商业用途用户使用，用户可在3分钟内搭建功能完备的在线教育网站。">
  <meta content="v2PXmZtmiuZKP-S_CiPdrG84vgVxdQiKdMLqGXaKIBo" name="csrf-token">
  <meta content="1" name="is-login">
  <meta content="0" name="is-open"> -->
  
  
  <!--[if lt IE 9]>
  <script src="/static-dist/libs/html5shiv.js?version=8.1.5"></script>
  <script src="/static-dist/es5-shim/es5-shim.js?version=8.1.5"></script>
  <script src="/static-dist/es5-shim/es5-sham.js?version=8.1.5"></script>
  <![endif]-->

<script src="__JS__jquery-1.11.3.min.js"></script>
<link href="__TEACHERCSS__vendor.css" rel="stylesheet">
<link href="__TEACHERCSS__app-bootstrap.css" rel="stylesheet">
<link href="__TEACHERCSS__main.css" rel="stylesheet">
<!--   <link rel="stylesheet" media="screen" href="./teacher_browse_files/colorbox.css"> -->
<link rel="stylesheet" type="text/css" href="__TEACHERUPLOAD__webuploader.css">
 

 <style type="text/css">
body,ol,ul,h1,h2,h3,h4,h5,h6,p,th,td,dl,dd,form,fieldset,legend,input,textarea,select{margin:0;padding:0} 
a{color:#2d374b;text-decoration:none} 
a:hover{color:#cd0200;text-decoration:underline} 
em{font-style:normal} 
li{list-style:none} 
img{border:0;vertical-align:middle} 
table{border-collapse:collapse;border-spacing:0} 
p{word-wrap:break-word}
 </style> 
              </head>
<body class="es-main-default es-nav-default ">



  <div class="es-wrap">


      {include file="Public:header" /}
          
      <div id="content-container" class="container">
        
  

  <div class="row row-3-9 my-layout">
      {include file="../application/index/view/teacher/public/sidenav.html" /}
    <div class="col-md-3">

    </div>
    <div class="col-md-9"><div class="panel panel-default panel-col">

	<div class="panel-heading">
		教学资料库
	</div>

	<div class="panel-body material-body">

<form id="material-search-form" action="{:url('index/teacher/browse')}" method="get" novalidate="" data-widget-cid="widget-0">
  <input type="hidden" class="js-page" name="page" value="1">
  <div class="source-btn" role="group" aria-label="...">
    <ul class="nav nav-tabs">
      <li class="active" data-value="my"><a href="javascript:;" class="js-source-btn">我的资料</a></li>
      <!--<li class="" data-value="public"><a href="javascript:;" class="js-source-btn">公共资料</a></li>-->
      <!--<li class="" data-value="favorite"><a href="javascript:;" class="js-source-btn">收藏夹</a></li>-->
      <!--<li class="" data-value="sharing"><a href="javascript:;" class="js-source-btn">来自分享</a></li>-->
    <li class="highlight" style="left: 0px; width: 124px;"></li></ul>
    <input type="hidden" name="sourceFrom" value="my">
  </div>
  <div class="form-group clearfix material-search-list">
    <div class="col-sm-4">
      <div class="input-group">
        <input class="form-control" type="text" placeholder="输入标题关键字" name="keyword" id="keyword" value="">
        <span class="input-group-btn">
          <div class="btn btn-primary">搜索</div>
        </span>
      </div>
    </div>
    <div class="col-sm-8 btn-group">
   <!--  <div class="text-sm pull-right">
		<a class="btn btn-primary" id="myShare" href="javascript:;" data-toggle="modal" data-backdrop="static" data-target="#modal" data-url="/material/lib/my/sharing/history">我的分享</a>
		<a class="btn btn-info" id="shareMaterials" href="javascript:;" data-toggle="modal" data-target="#modal" data-url="/material/lib/my/sharing/show">分享资料</a>
			<input type="hidden" name="source" value="">

</div> -->
    </div>
  </div>
  <div class="material-search-list material-tabs">
  <span class="all">类型：</span>
  <ul class="js-material-tabs right-content topfiltrate clearfix">
    <li class="js-type-btn active" data-value="all" is_choose="1">
      <a href="javascript:;">全部</a>
    </li>
    <li class="js-type-btn" data-value="video" is_choose="">
      <a href="javascript:;">视频</a>
    </li>
    <li class="js-type-btn" data-value="flash" is_choose="">
      <a href="javascript:;">flash</a>
    </li>
    <li class="js-type-btn" data-value="audio" is_choose="">
      <a href="javascript:;">音频</a>
    </li>
    <li class="js-type-btn" data-value="image" is_choose="">
      <a href="javascript:;">图片</a>
    </li>
    <li class="js-type-btn" data-value="document" is_choose="">
      <a href="javascript:;">文档</a>
    </li>
    <li class="js-type-btn" data-value="ppt" is_choose="">
      <a href="javascript:;">PPT</a>
    </li>
    <li class="js-type-btn" data-value="other" is_choose="">
      <a href="javascript:;">其它</a>
    </li>
    <input type="hidden" name="type" value=""></ul>
</div>
  <div style="display: none"  class="material-search-list material-tag js-material-tag">
    <span class="all">标签：</span>
      <div class="right-content">
                  <span class="label label-default" data-id="6">管理</span>
                  <span class="label label-default" data-id="5">教育云</span>
                  <span class="label label-default" data-id="4">题库</span>
                  <span class="label label-default" data-id="3">课程</span>
                  <span class="label label-default" data-id="2">系统设置</span>
                  <span class="label label-default" data-id="1">默认标签</span>
                <input type="hidden" name="tagId">
      </div>
  </div>
  <!-- <div class="material-search-list bottom">
    <span class="all">筛选：</span>
    <div class="right-content ">
      <div class="row">
        <div class="col-sm-6">
        <input class="form-control input-time" type="text" id="startDate" name="startDate" value="" placeholder="起始时间"><span class="input-space">-</span><input class="form-control input-time" type="text" id="endDate" name="endDate" value="" placeholder="结束时间"></div>
        <div class="col-sm-2">
          <select class="form-control js-process-status-select" name="processStatus">
            <option value="">转码状态</option>
            <option value="ok">转码成功</option>
            <option value="waiting">转码中</option>
            <option value="error">转码失败</option>
          </select>
        </div>
        <div class="col-sm-2">
          <select class="form-control js-use-status-select" name="useStatus">
            <option value="">使用状态</option>
            <option value="unused">未使用</option>
            <option value="used">已使用</option>
          </select>
        </div>
      </div>
    </div>
  </div> -->
  <div id="material-lib-items-panel">
    
      <a class="btn btn-primary js-upload-file-btn" data-toggle="modal" data-backdrop="static" data-target="#modal"  title="上传资料" data-placement="bottom">上传资料
      </a>
      <!-- <a class="btn btn-info js-manage-batch-btn" href="javascript:;">批量管理</a> -->
      <span id="material-lib-batch-btn-bar" style="display: none;">
        <a class="btn btn-info js-batch-tag-btn" data-role="batch-tag">添加标签
        </a>
        <a class="btn btn-info js-batch-share-btn" data-role="batch-share" href="javascript:;" data-url="/materials/batch/share">共享
        </a>
        <a class="btn btn-danger js-batch-delete-btn" data-role="batch-dalete" href="javascript:;" data-url="/materials/delete/show">删除
        </a>
        <label class="checkbox-inline" data-role="batch-manage">
          <input type="checkbox" data-role="batch-select"> 全选
        </label>  
      </span>
    <div class="material-list-container" id="material-item-list" data-url="/material/lib/show/browse">
        <div class="row filelist">
            {volist name="file" id="file"}
            <div class="col-lg-3 col-sm-4 col-xs-6 materials-list my-materials-list " data-file-id="1162">
                <ul class="materials-ul clearfix">
                    <li class="img-li" style="position:relative;">
                        <input class="batch-item" value="1162" type="checkbox" data-role="batch-item" data-link-count="0" data-file-name="0ad5c744c1cb0489edb698fcec6089d4_1.jpg" style="display: none;">
                        <img src="__IMG__cloud_other.png">
                        <div class="mask">
                            <div class="icon-operation">
                                <i style="display: none" class="glyphicon glyphicon-star js-collect-btn left " data-toggle="tooltip" data-placement="bottom" title="" data-url="/material/lib/my/collection/save?fileId=1162" data-original-title="收藏"></i>
                                <i style="display: none" href="javascript:;" class="glyphicon glyphicon-option-vertical" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"></i>
                                <ul style="display: none" class="dropdown-menu">
                                    <li>
                                        <a href="javascript:;" class="js-detail-btn" data-toggle="tooltip" data-placement="bottom" data-url="/material/lib/1162/detail" data-original-title="" title="">
                                            <i class="glyphicon glyphicon-pencil prm"></i>编辑
                                        </a>
                                    </li>
                                    <li>
                                        <a href="javascript:;" data-url="/materiallib/1162/download" class="js-download-btn" data-toggle="tooltip" data-placement="bottom" data-original-title="" title="">
                                            <i class="glyphicon glyphicon-save prm"></i>下载
                                        </a>
                                    </li>
                                    <li>
                                        <a href="javascript:;" class="js-share-btn" data-toggle="tooltip" data-placement="bottom" data-file-id="1162" data-url="/materials/batch/share" data-original-title="" title="">
                                            <i class="es-icon es-icon-share prm"></i>共享
                                        </a>
                                    </li>
                                    <li>
                                        <a href="javascript:;" class="js-delete-btn" data-toggle="tooltip" data-placement="bottom" data-url="/materials/delete/show" data-id="1162" data-original-title="" title="">
                                            <i class="glyphicon glyphicon-trash prm"></i>删除
                                        </a>
                                    </li>
                                </ul>
                            </div>
                            <div style="display: none" class="btn-operation">选择一种状态
                                <a class="btn btn-info" href="http://www.hnhgjx.cn:1700/material/lib/browse#modal" data-toggle="modal" data-url="/material/lib/file/1162/preview">资料预览
                                </a>
                            </div>
                            <div class="time">{$file.type}</div>
                        </div>
                    </li>
                    <li class="caption">
                        <a href="{:url('index/teacher/down',array('fileid'=>$file['id']))}"><p class="title text-overflow" data-toggle="tooltip" data-placement="top" title="" data-original-title="{$file.filename}">{$file.filename}</p></a>
                        <!--<p class="status-parent">-->
                        <!--<span class="label label-default">未使用</span>-->
                        <!--</p>-->
                        <p class="color-gray text-overflow text-sm mbs" title="2017/12/28 10:58">时间：{$file.createTime}</p>
                    </li>
                </ul>
            </div>
            {/volist}
        </div>
        {$page}
</div>
  </div>
</form>
<div id="tag-modal" class="modal in" aria-hidden="false" data-backdrop="static" style="display: none;">
  <div class="modal-dialog ">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
        <h4 class="modal-title">标签设置</h4>
      </div>
      <div class="modal-body">
        <form class="form-horizontal" id="tag-form" action="http://www.hnhgjx.cn:1700/materials/batch/tag/show" method="post" novalidate="novalidate" data-widget-cid="widget-1">
          <div class="form-group" id="form">
            <div class="col-md-2 control-label">
              <label for="s2id_autogen1">标签</label>
            </div>

            <div class="col-md-8 controls">
              <div class="select2-container select2-container-multi width-full" id="s2id_tags" style="width: 400px;"><ul class="select2-choices">  <li class="select2-search-field">    <input type="text" autocomplete="off" autocorrect="off" autocapitilize="off" spellcheck="false" class="select2-input select2-default" id="s2id_autogen1" tabindex="-1" style="width: 410px;">  </li></ul><div class="select2-drop select2-drop-multi select2-display-none">   <ul class="select2-results">   </ul></div></div><input type="text" id="tags" data-url="/material/lib/tag/match" name="tags" required="required" class="width-full select2-offscreen" tabindex="-1" value="" data-explain="用于按标签搜索课程、相关课程的提取等，由网校管理员后台统一管理" data-widget-cid="widget-2">
              <div class="help-block">标签来自网校课程标签，由网校管理员统一管理。</div>
            </div>

          </div>
          <input type="hidden" name="_csrf_token" value="v2PXmZtmiuZKP-S_CiPdrG84vgVxdQiKdMLqGXaKIBo">
          <input id="select-tag-items" name="fileIds" type="hidden" value="">
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-link" data-dismiss="modal">取消</button>
        <button id="tag-create-btn" data-submiting-text="正在提交" type="submit" class="btn btn-primary" data-toggle="form-submit" data-target="#tag-form ">保存</button>
      </div>
    </div>
  </div>
</div>
	</div>
</div>
</div>
  </div>

  
      </div>



      {include file="Public:footer" /}
        
      </div>

        
  
  <div id="login-modal" class="modal"></div>
  <div id="modal" class="modal" style="display:none; padding-right: 17px;">
      <div class="modal-dialog  modal-lg">
          <div class="modal-content">
              <div class="modal-header">
                  <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                  <h4 class="modal-title">上传文件</h4>
              </div>
              <div class="modal-body">
                  <div>
                      <div id="uploader">
                          <div>
                              <div id="dndArea" style="border:1px solid #eee;">
                                  <ul style="width:100%; height:40px; background:#eee; line-height:40px;">
                                      <li style="width:40%; float:left; padding-left:10px;">文件名</li>
                                      <li style="width:20%; float:left; padding-left:10px;">大小</li>
                                      <li style="width:20%; float:left; padding-left:10px;">状态</li>
                                      <li style="width:20%; float:left; padding-left:10px;">操作</li>
                                  </ul>
                                  <div id="fileList" class="uploader-list"  style="width:100%; height:300px; overflow-y:auto;"></div>
                                  <!--存放文件的容器-->
                              </div>
                          </div>
                          <div class="btns">
                              <div id="UploadBtn" class="webuploader-pick" style="float: right; margin-right: 10px; margin-top:10px;">开始上传</div>
                              <div id="picker" class="webuploader-container" style="float: right; margin-right: 10px; margin-top:10px; ">
                                  <div>
                                      选择文件 <input type="file" name="file" class="webuploader-element-invisible" multiple="multiple">
                                  </div>
                              </div>
                              <!-- <div id="StopBtn" class="webuploader-pick" style="float: left; margin-right: 10px" status="suspend">暂停上传</div> -->
                          </div>
                      </div>
                  </div>
              </div>
          </div>
          <div class="modal-footer" style="background:#fff;">    <button type="button" class="btn btn-primary" data-dismiss="modal">关闭</button></div>
      </div>
  </div>
  </div>
  <div id="attachment-modal" class="modal"></div>


  <script>
      $(function(){
          $('.list-group-item').eq(3).addClass(' active');
      })
  </script>
<script>
  if (typeof app === 'undefined') {
      var app = {};
  }
  app.version = '8.1.5';
  app.httpHost = 'http://www.hnhgjx.cn:1700';
  app.basePath = 'http://www.hnhgjx.cn:1700';
  app.theme = 'jianmo';

    
  var CLOUD_FILE_SERVER = ""; 

  app.config = {"api":{"weibo":{"key":""},"qq":{"key":""},"douban":{"key":""},"renren":{"key":""}},"loading_img_path":"\/assets\/img\/default\/loading.gif?version=8.1.5"};

  app.arguments = {};
      
  app.scripts = ["topxiawebbundle\/controller\/material-lib\/index"];

  app.uploadUrl = '/file/upload';
  app.imgCropUrl = '/file/img/crop';
  app.lessonCopyEnabled = '0';
  app.cloudSdkCdn = '';
  app.lang = 'zh_CN';
</script>

  <script src="__TEACHERJS__bootstrap.js"></script>
  <script src="__TEACHERJS__translator.min.js"></script>
  <script src="__TEACHERJS__js"></script>
  <script src="__TEACHERJS__vendor.js"></script>
  <script src="__TEACHERJS__common.js"></script>
  <script src="__TEACHERJS__main.js"></script>
  <script src="__TEACHERJS__jquery.SuperSlide.2.1.1.js"></script>
  <script type="text/javascript" src="__TEACHERUPLOAD__webuploader.js"></script>

<script>
    var uploader;

    //在点击弹出模态框的时候再初始化WebUploader，解决点击上传无反应问题
    $("#modal").on("shown.bs.modal",function(){
        $list = $('#fileList');
        var flie_count = 0;
        uploader = WebUploader.create({
            //设置选完文件后是否自动上传
            auto: false,
            //swf文件路径
            swf: 'static/webuploader/Uploader.swf',
            // 文件接收服务端。
            server: '/api/file/getfile',
            // 选择文件的按钮。可选。
            // 内部根据当前运行是创建，可能是input元素，也可能是flash.
            pick: '#picker',
            dnd: '#dndArea',
            chunked: true, //开启分块上传
            chunkSize: 10 * 1024 * 1024,
            chunkRetry: 3,//网络问题上传失败后重试次数
            threads: 1, //上传并发数
            //fileNumLimit :1,
            fileSizeLimit: 2000 * 1024 * 1024,//最大2GB
            fileSingleSizeLimit: 2000 * 1024 * 1024,
            resize: false//不压缩
            //选择文件类型
            //accept: {
            //    title: 'Video',
            //    extensions: 'mp4,avi',
            //    mimeTypes: 'video/*'
            //}
        });
        // 当有文件被添加进队列的时候
        uploader.on('fileQueued', function (file) {
            $list.append('<ul style="width:100%; height:40px; line-height:40px; border-bottom:1px solid #eee; position:relative;" id="' + file.id + '" class="item">' +
                    '<li style="width:40%; float:left; padding-left:10px; position:relative; z-index:99;" class="info">' + file.name + '</li><li  style="width:20%; float:left; padding-left:10px;position:relative; z-index:99;">'+WebUploader.formatSize(file.size)+'</li><li style="width:20%; float:left; padding-left:10px;position:relative; z-index:99;"><p class="state">等待上传</p></li><li class="rems" style="width:20%; float:left; padding-left:20px;position:relative; z-index:99;"><button type="button" fileId="' + file.id + '" class="btn btn-danger btn-delete"><span style="font-weight: 900; font-size: 13px;">×</span></button></li></ul>');
            // console.info("id=file_"+flie_count);
            flie_count++;

            //删除要上传的文件
            //每次添加文件都给btn-delete绑定删除方法
            $(".btn-delete").click(function () {
                //console.log($(this).attr("fileId"));//拿到文件id
                uploader.removeFile(uploader.getFile($(this).attr("fileId"), true));
                $(this).parent().parent().fadeOut();//视觉上消失了
                $(this).parent().parent().remove();//DOM上删除了
            });
            //uploader.options.formData.guid = WebUploader.guid();//每个文件都附带一个guid，以在服务端确定哪些文件块本来是一个
            //console.info("guid= "+WebUploader.guid());

            //md5计算
            uploader.md5File(file)
                .progress(function(percentage) {
                    console.log('Percentage:', percentage);
                })
                // 完成
                .then(function (fileMd5) { // 完成
                    var end = +new Date();
                    console.log("before-send-file  preupload: file.size="+file.size+" file.md5="+fileMd5);
                    file.wholeMd5 = fileMd5;//获取到了md5
                    //uploader.options.formData.md5value = file.wholeMd5;//每个文件都附带一个md5，便于实现秒传

                    $('#' + file.id).find('p.state').text('请点击上传');
                    console.info("MD5="+fileMd5);
                });


        });
        // 文件上传过程中创建进度条实时显示。
        uploader.on('uploadProgress', function (file, percentage) {
            var $li = $('#' + file.id),
                    $percent = $li.find('.progress .progress-bar');
            // 避免重复创建
            if (!$percent.length) {
                $percent = $('<div class="progress progress-striped active" style="height:40px; width:100% ;position:absolute; z-index:1;" >' +
                        '<div class="progress-bar" role="progressbar" style="height:40px;width: 0%; background:green;">' +
                        '</div>' +
                        '</div>').appendTo($li).find('.progress-bar');
            }
            // $li.find('p.state').text('上传中');
            $percent.css('width', percentage * 100 + '%');
            var num = percentage * 100;
            num = num.toFixed(2);
            $li.find('p.state').text(num + '%');
        });

        //发送前填充数据
        uploader.on( 'uploadBeforeSend', function( block, data ) {
            // block为分块数据。

            // file为分块对应的file对象。
            var file = block.file;
            var fileMd5 = file.wholeMd5;
            // 修改data可以控制发送哪些携带数据。

            console.info("fileName= "+file.name+" fileMd5= "+fileMd5+" fileId= "+file.id);
            console.info("input file= "+ flie_count);
            // 将存在file对象中的md5数据携带发送过去。
            data.md5value = fileMd5;//md5
            data.fileName_ = $("#s_"+file.id).val();
            console.log("fileName_: "+data.fileName_);
            // 删除其他数据
            // delete data.key;
            if(block.chunks>1){ //文件大于chunksize 分片上传
                data.isChunked = true;
                console.info("data.isChunked= "+data.isChunked);
            }else{
                data.isChunked = false;
                console.info("data.isChunked="+data.isChunked);
            }

        });


        uploader.on('uploadSuccess', function (file,response) {
            $('#' + file.id).find('p.state').text('已上传');
            $('#' + file.id).find(".progress").find(".progress-bar").attr("class", "progress-bar progress-bar-success");
            $('#' + file.id).find(".rems").find('.btn').fadeOut('slow');//上传完后删除"删除"按钮
            $('#StopBtn').fadeOut('slow');


            console.log(response);
            $.post(
                "{:url('index/teacher/savecoursefile')}",
                {
                    'filepath':response['data'],
                    'courseid':0
                },
                function(data){
                    if(data==1){
                        alert("上传成功！");
                        window.location.href = window.location.href;
                    }
                    else{
                        alert("上传失败！");
                        window.location.href = window.location.href;
                    }
                },
                "json"
            );

        });
        uploader.on('uploadError', function (file) {
            $('#' + file.id).find('p.state').text('上传出错');
            //上传出错后进度条变红
            $('#' + file.id).find(".progress").find(".progress-bar").attr("class", "progress-bar progress-bar-danger");
            //添加重试按钮
            //为了防止重复添加重试按钮，做一个判断
            //var retrybutton = $('#' + file.id).find(".btn-retry");
            //$('#' + file.id)
            if ($('#' + file.id).find(".btn-retry").length < 1) {
                var btn = $('<button type="button" fileid="' + file.id + '" class="btn btn-success btn-retry"><span class="glyphicon glyphicon-refresh"></span></button>');
                $('#' + file.id).find(".info").append(btn);//.find(".btn-danger")
            }
            $(".btn-retry").click(function () {
                //console.log($(this).attr("fileId"));//拿到文件id
                uploader.retry(uploader.getFile($(this).attr("fileId")));
            });
        });
        uploader.on('uploadComplete', function (file) {
            //上传完成后回调
            //$('#' + file.id).find('.progress').fadeOut();//上传完删除进度条
            //$('#' + file.id + 'btn').fadeOut('slow')//上传完后删除"删除"按钮
        });
        uploader.on('uploadFinished', function () {
            //上传完后的回调方法
            //alert("所有文件上传完毕");
            //提交表单
        });
        $("#UploadBtn").click(function () {
            uploader.upload();//上传
        });
        $("#StopBtn").click(function () {
            console.log($('#StopBtn').attr("status"));
            var status = $('#StopBtn').attr("status");
            if (status == "suspend") {
                console.log("当前按钮是暂停，即将变为继续");
                $("#StopBtn").html("继续上传");
                $("#StopBtn").attr("status", "continuous");
                console.log("当前所有文件==="+uploader.getFiles());
                console.log("=============暂停上传==============");
                uploader.stop(true);
                console.log("=============所有当前暂停的文件=============");
                console.log(uploader.getFiles("interrupt"));
            } else {
                console.log("当前按钮是继续，即将变为暂停");
                $("#StopBtn").html("暂停上传");
                $("#StopBtn").attr("status", "suspend");
                console.log("===============所有当前暂停的文件==============");
                console.log(uploader.getFiles("interrupt"));
                uploader.upload(uploader.getFiles("interrupt"));
            }
        });
        uploader.on('uploadAccept', function (file, response) {
            if (response._raw === '{"error":true}') {
                return false;
            }
        });
    });

    $('#modal').on('hide.bs.modal', function () {
        $("#responeseText").text("");
        uploader.destroy();
        $('.item').remove();
    });

</script>
<script>
    $(function(){
        $('.pagination').find('a').removeAttr('href');

        $('.btn-primary').click(function(){
            var keyword = $('#keyword').val();
            $('.js-type-btn').eq(0).addClass('active').siblings().removeClass('active');
            $('.js-type-btn').eq(0).attr('is_choose',1).siblings().attr('is_choose',"");
            var type = $("[is_choose='1']").attr('data-value');
//            var url = "http://localhost/index/teacher/browse?&keyword="+keyword+"&type="+type;
//            var url = "{:url('index/teacher/browse',array('keyword'=>'"+keyword+"','type'=>'"+type+"'))}";
//            $.get(url,function(data){
//                console.log(data);
//                $('.material-list-container').html("");
//                $('.material-list-container').append(data);
//            },"json");

            $.post(
                "{:url('index/teacher/browse')}",
                {
                    'keyword':keyword,
                    'type':type
                },
                function(data){
                    $('.material-list-container').html("");
                    $('.material-list-container').append(data);
                },
                "json"
            );
        });

        $('.js-type-btn').click(function(){
            $(this).addClass('active').siblings().removeClass('active');
            $(this).attr('is_choose',1).siblings().attr('is_choose',"");
            var keyword = $('#keyword').val();
            var type = $("[is_choose='1']").attr('data-value');
//            var url = "http://localhost/index/teacher/browse?&keyword="+keyword+"&type="+type;
//            var url = "{:url('index/teacher/browse',array('keyword'=>'"+keyword+"','type'=>'"+type+"'))}";
//            console.log(url);
//            $.get(url,function(data){
//                console.log(data);
//                $('.material-list-container').html("");
//                $('.material-list-container').append(data);
//            },"json");
            $.post(
                "{:url('index/teacher/browse')}",
                {
                    'keyword':keyword,
                    'type':type
                },
                function(data){
                    $('.material-list-container').html("");
                    $('.material-list-container').append(data);
                },
                "json"
            );
        });

        $('.pagination').children().on('click',function(){
            $(this).addClass('active').siblings().removeClass('active');
            var keyword = $('#keyword').val();
            var type = $("[is_choose='1']").attr('data-value');
            var page = $(this).children().text();
//            var url = "http://localhost/index/teacher/browse?page="+page+"&keyword="+keyword+"&type="+type;
//            var url = "{:url('index/teacher/browse',array('keyword'=>'"+keyword+"','type'=>'"+type+"','page'=>'"+page+"'))}";
//            console.log(url);
//            $.get(url,function(data){
//                $('.material-list-container').html("");
//                $('.material-list-container').append(data);
//            },"json");
            $.post(
                "{:url('index/teacher/browse')}",
                {
                    'keyword':keyword,
                    'type':type,
                    'page':page
                },
                function(data){
                    $('.material-list-container').html("");
                    $('.material-list-container').append(data);
                },
                "json"
            );
        });
    })
</script>








</body></html>